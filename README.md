# Project calculator
Golang server

## Общее описание системы
Приложение позволяет проводить финансовую и временную оценки проектов, их фаз и фич (features), основываясь на различных характеристиках:
* Состав команды разработки проекта по должностям;
* Трёхточечная временная оценка каждой из фич в днях.

У каждого проекта может быть произвольное количество фаз и произвольное количество фич. Фича может быть привязана к какой-то из фаз.
Проекты характеризуются названием, описанием и другой вспомогательной информацией.
Фазы помимо названия и описания содержат начальную и конечную даты.

Фичи помимо названия и описания содержат три числа-оценки (o (оптимистичная), m (наиболее вероятная), p (пессимистичная)), на основе которых считается временная оценка фичи.
Временная оценка фичи = (o + 4*m + p) / 6.
На основе временных оценок каждой фичи считается суммарная временная оценка фаз и проектов.

Должности в команде проекта:
* Разработчик (REGULAR DEVELOPER)
* Старший разработчик (SENIOR DEVELOPER)
* Архитектор (ARCHITECT)
* Тестировщик (QA ENGINEER)
* Менеджер проектов (PROJECT MANAGER)
* DevOps-инженер (DEVOPS ENGINEER)

На основе временной оценки происходит оценка стоимости каждой фичи, фазы и проекта.
dev_average_rate = (reg_dev_count * reg_rate + senior_count * senior_rate)/(reg_dev_count+senior_count)

Стоимость фичи: dev_average_rate * t

Стоимость фазы проекта: ∑(feature_price)

Стоимость проекта:
∑(duration * position_rate * position_count)




## Структура проекта

* cmd/app/ - точка входа для нашего приложения


* config/ - пакет с настройками приложения.
  * config.go - файл с настройками приложения.


* db/ - пакет с кодом базы данных.
    * migrations/ - миграции базы данных.
    * models/ - модели данных для работы с базой данных.
    * db.go - основной файл для работы с базой данных.


* docs/ - папка с документацией API.


* internal/ - пакет с кодом API-сервера.
  * app/ - точка, где все наши зависимости и логика собираются и запускают приложение.
  * database/ - содержит меотды для взаимодействия с БД
  * handlers/ - обработчики запросов API.
  * middleware/ - посредники для обработки запросов API.
  * models/ - модели данных для работы с базой данных.
  * routes/ - маршрутизаторы для обработки запросов API.
    * router.go - основной маршрутизатор
  * utils/ - вспомогательные функции и утилиты.


## REST интерфейс
### Пользователи
Зарегестрировать нового пользователя
POST: /users

### Проекты
Создать новый проект
POST: /projects

Получить список проектов
GET: /projects

### Команды
Изменить состав команды
PUT: /projects/{projectId}/team-members

Получить состав команды проекта
GET: /projects/{projectId}/team-members

### Ставки должностей
Изменить ставку по должности
PUT: /projects/{projectId}/rates

Получить ставки должностей указанного проекта
GET: /projects/{projectId}/rates

### Фазы
Создать новую фазу для проекта
POST: /projects/{projectId}/milestones

Изменить фазу проекта
PUT: /projects/{projectId}/milestones/{milestoneId}

Получить фазы текущего проекта
GET: /projects/{projectId}/milestones

Удалить фазу проекта
DELETE: /projects/{projectId}/milestones/{milestoneId}

### Фичи
Добавить фичу в проект
POST: /projects/{projectId}/features

Изменить фичу проекта
PUT: /projects/{projectId}/features/{featureId}

Получить список фич проекта
GET: /projects/{projectId}/features